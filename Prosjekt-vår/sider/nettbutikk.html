<!DOCTYPE html>
<html lang="no" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Nettbutikk</title>
    <link rel="stylesheet" href="nettbutikk.css">

    <script src="https://www.gstatic.com/firebasejs/5.9.0/firebase.js"></script>
    <script>

    var config = {
      apiKey: "AIzaSyCXt1gzYruwaYyrvjta0_qI06U-aCEkKrI",
      authDomain: "nettbutikk-prosjekt.firebaseapp.com",
      databaseURL: "https://nettbutikk-prosjekt.firebaseio.com",
      projectId: "nettbutikk-prosjekt",
      storageBucket: "nettbutikk-prosjekt.appspot.com",
      messagingSenderId: "145054998689"
  };
  firebase.initializeApp(config);
</script>

  </head>
  <body>
    <header>
      <div class="Gridheader">
       <div class="logo"><a href="nettbutikk.html"><img src="../bilder/nettsidelogoprosjekt-vÃ¥r.jpg" alt="logo"></a></div>

         <button onclick="visAlle()">Alle</button>
         <button onclick="visSUV()">SUV</button>
         <button onclick="visSport()">Sport</button>
         <button onclick="visDiverse()">Diverse</button>
         <button onclick="visEksklusiv()">Eksklusiv</button>
         <button onclick="visKM()">0-40.000 KM</button>
         <button onclick="visPris()">under 2M</button>
         <button onclick="visPris2()">over 2M</button>
       </nav>
      </div>
    </header>

    <main>
      <div id="main" class="main">

      </div>

    </main>

     <script>

          const main = document.getElementById("main");
          const db = firebase.database();
          const Biler = db.ref("Biler");

          function genererHTML(snapshot){
            console.log(snapshot.val());
            let Biler = snapshot.val();

          main.innerHTML +=`
              <article class="Biler">
                <h1>${Biler.Merke} </h1>
                <img class="grid_img" src="../bilder/${Biler.ImageURL}" alt="">
                <p>
                <p>${Biler.Type}</p>
                <h3>${Biler.pris} Mill.</h3>
                <h4>${Biler.KM} Km</h4>
                </p>
              </article>
          `
      }

        function visAlle(){
          main.innerHTML = ``
          Biler.on("child_added",genererHTML)
        }

      visAlle();

      function visSUV(){
        main.innerHTML = "";
        Biler.orderByChild("Type").equalTo("SUV").on("child_added", genererHTML);
      }
      function visSport(){
        main.innerHTML = "";
        Biler.orderByChild("Type").equalTo("Sport").on("child_added", genererHTML);
      }
      function visDiverse(){
        main.innerHTML = "";
        Biler.orderByChild("Type").equalTo("Diverse").on("child_added", genererHTML);
      }
      function visEksklusiv(){
        main.innerHTML = "";
        Biler.orderByChild("Type").equalTo("Eksklusiv").on("child_added", genererHTML);
      }
      function visKM(){
        main.innerHTML = "";
        Biler.orderByChild("KM").startAt(0).endAt(40000).on("child_added", genererHTML);
      }
      function visPris(){
        main.innerHTML = "";
        Biler.orderByChild("pris").startAt(1).endAt(2).on("child_added", genererHTML);
      }
      function visPris2(){
        main.innerHTML = "";
        Biler.orderByChild("pris").startAt(2).endAt(4).on("child_added", genererHTML);
      }


       </script>
    <footer>

    </footer>

  </body>
</html>
